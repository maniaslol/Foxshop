{"version":3,"sources":["webpack:///./src/components/orderPage.vue?5018","webpack:///src/components/orderPage.vue","webpack:///./src/components/orderPage.vue?2039","webpack:///./src/components/orderPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_l","item","key","_v","_s","_f","create_at","attrs","id","aria-labelledby","user","address","tel","width","name","message","data-toggle","data-target","aria-expanded","aria-controls","on","click","$event","getOneOrder","index","product","title","qty","total","orderCheck","staticRenderFns","orderPagevue_type_script_lang_js_","data","products","orders","OneOrders","orderID","methods","getOrder","api","vm","$http","get","then","response","console","log","concat","order","getProducts","isLoading","reverse","getOneProduct","jquery_default","modal","oneProduct","post","created","components_orderPagevue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/7c82.4be63f95.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"table-responsive-md\"},[_c('table',{staticClass:\"table mt-4\"},[_vm._m(0),_c('tbody',_vm._l((_vm.orders),function(item,key){return _c('tr',{key:key},[_c('td',[_vm._v(\"\\n                        \"+_vm._s(_vm._f(\"timeFilter\")(item.create_at*1000))+\"\\n                        \"),_c('div',{staticClass:\"accordion\"},[_c('div',{staticClass:\"collapse my-5\",attrs:{\"id\":item.id,\"aria-labelledby\":\"headingOne\"}},[_c('tr',[_vm._v(\"\\n                                    地址:\"+_vm._s(item.user.address)+\"\\n                                \")])])])]),_c('td',[_vm._v(\"\\n                        \"+_vm._s(item.id)+\"\\n                        \"),_c('div',{staticClass:\"accordion\"},[_c('div',{staticClass:\"collapse my-5\",attrs:{\"id\":item.id,\"aria-labelledby\":\"headingOne\"}},[_c('tr',[_vm._v(\"\\n                                    電話:\"+_vm._s(item.user.tel)+\"\\n                                \")])])])]),_c('td',{staticClass:\"text-left\",attrs:{\"width\":\"200\"}},[_vm._v(\"\\n                        \"+_vm._s(item.user.name)+\"\\n                        \"),_c('div',{staticClass:\"accordion\"},[_c('div',{staticClass:\"collapse my-5\",attrs:{\"id\":item.id,\"aria-labelledby\":\"headingOne\"}},[_c('tr',[_vm._v(\"\\n                                    留言內容:\"+_vm._s(item.message)+\"\\n                                \")])])])]),_c('td',{attrs:{\"width\":\"200\"}},[_c('a',{staticClass:\"btn text-primary\",attrs:{\"data-toggle\":\"collapse\",\"data-target\":'#'+item.id,\"aria-expanded\":\"true\",\"aria-controls\":\"collapseOne\",\"id\":\"headingOne\"},on:{\"click\":function($event){_vm.getOneOrder(item.id)}}},[_vm._v(\"\\n                            購物車細節 \"),_c('i',{staticClass:\"fa fa-angle-down\"})]),_c('div',{staticClass:\"accordion\"},[_c('div',{staticClass:\"collapse\",attrs:{\"id\":item.id,\"aria-labelledby\":\"headingOne\"}},[_vm._l((item.products),function(item,index){return _c('tr',{key:index},[_c('p',[_vm._v(\"品名:\"+_vm._s(item.product.title))]),_c('p',[_vm._v(\"數量:\"+_vm._s(item.qty))])])}),_c('tr',[_c('p',[_vm._v(\"總價:\"+_vm._s(_vm._f(\"moneyFilter\")(item.total)))])])],2)])]),_c('td',[(item.is_paid)?_c('p',{staticClass:\"text-success\"},[_vm._v(\"完成訂單\")]):_c('p',{staticClass:\"text-danger\"},[_vm._v(\"尚未完成\")])]),_c('td',[_c('button',{staticClass:\"btn btn-outline-secondary\",on:{\"click\":function($event){_vm.orderCheck(item.id)}}},[_vm._v(\"確認完成訂單\")])])])}))])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"訂單時間\")]),_c('th',[_vm._v(\"訂單代碼\")]),_c('th',[_vm._v(\"姓名\")]),_c('th',{},[_vm._v(\"訂單細節\")]),_c('th',[_vm._v(\"付款狀態\")]),_c('th',{},[_vm._v(\"編輯\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"table-responsive-md\">\r\n            <table class=\"table mt-4\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>訂單時間</th>\r\n                        <th>訂單代碼</th>\r\n                        <th>姓名</th>\r\n                        <th class=\"\">訂單細節</th>\r\n                        <th>付款狀態</th>\r\n                        <th class=\"\">編輯</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for='(item,key) in orders' :key='key'>\r\n                        <td>\r\n                            {{item.create_at*1000 | timeFilter}}\r\n                            <div class=\"accordion\">\r\n                                <div :id=\"item.id\" class=\"collapse my-5\" aria-labelledby=\"headingOne\">\r\n                                    <tr>\r\n                                        地址:{{item.user.address}}\r\n                                    </tr>\r\n                                </div>\r\n                            </div>\r\n                        </td>\r\n                        <td>\r\n                            {{item.id}}\r\n                            <div class=\"accordion\">\r\n                                <div :id=\"item.id\" class=\"collapse my-5\" aria-labelledby=\"headingOne\">\r\n                                    <tr>\r\n                                        電話:{{item.user.tel}}\r\n                                    </tr>\r\n                                </div>\r\n                            </div>\r\n                        </td>\r\n                        <td width='200' class=\"text-left\">\r\n                            {{item.user.name}}\r\n                            <div class=\"accordion\">\r\n                                <div :id=\"item.id\" class=\"collapse my-5\" aria-labelledby=\"headingOne\">\r\n                                    <tr>\r\n                                        留言內容:{{item.message}}\r\n                                    </tr>\r\n                                </div>\r\n                            </div>\r\n                        </td>\r\n                        <td width='200'>\r\n                            <a class=\"btn text-primary\" data-toggle=\"collapse\" :data-target=\"'#'+item.id\"\r\n                                aria-expanded=\"true\" aria-controls=\"collapseOne\" id=\"headingOne\" @click=\"getOneOrder(item.id)\">\r\n                                購物車細節 <i class=\"fa fa-angle-down\"></i>\r\n                            </a>\r\n                            <div class=\"accordion\">\r\n                                <div :id=\"item.id\" class=\"collapse\" aria-labelledby=\"headingOne\">\r\n                                    <tr v-for=\"(item, index) in item.products\" :key=\"index\">\r\n                                        <p>品名:{{item.product.title}}</p>\r\n                                        <p>數量:{{item.qty}}</p>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <p>總價:{{item.total | moneyFilter}}</p>\r\n                                    </tr>\r\n                                </div>\r\n                            </div>\r\n                        </td>\r\n                        <td>\r\n                            <p v-if=\"item.is_paid\" class=\"text-success\">完成訂單</p>\r\n                            <p v-else class=\"text-danger\">尚未完成</p>\r\n                        </td>\r\n                        <td>\r\n                            <button class=\"btn btn-outline-secondary\" @click=\"orderCheck(item.id)\">確認完成訂單</button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import $ from \"jquery\";\r\n    export default {\r\n        data() {\r\n            return {\r\n                products: [],\r\n                orders: [],\r\n                OneOrders: [],\r\n                orderID:[]\r\n            };\r\n        },\r\n        methods: {\r\n            getOrder() {\r\n                let api = `https://vue-course-api.hexschool.io/api/manias/orders`;\r\n                const vm = this;\r\n                this.$http.get(api).then(response => {\r\n                    vm.orders = response.data.orders;\r\n                });\r\n            },\r\n            getOneOrder(id) {\r\n                console.log(id);\r\n                const api = `https://vue-course-api.hexschool.io/api/manias/order/${id}`;\r\n                const vm = this;\r\n                this.$http.get(api).then(response => {\r\n                    console.log(response.data.order)\r\n                    vm.OneOrders = response.data.order;\r\n                });\r\n            },\r\n            getProducts() {\r\n                const api = `https://vue-course-api.hexschool.io/api/manias/products`;\r\n                const vm = this;\r\n                vm.isLoading = true;\r\n                this.$http.get(api).then(response => {\r\n                    vm.products = response.data.products;\r\n                    vm.products.reverse();\r\n                });\r\n            },\r\n            getOneProduct(item) {\r\n                $(\"#shopCart\").modal(\"hide\");\r\n                const api = `https://vue-course-api.hexschool.io/api/manias/product/${item.id}`;\r\n                const vm = this;\r\n                this.$http.get(api).then(response => {\r\n                    vm.oneProduct = response.data.product;\r\n                });\r\n            },\r\n            orderCheck(id){\r\n                const api = `https://vue-course-api.hexschool.io/api/manias/pay/${id}`;\r\n                const vm = this;\r\n                this.$http.post(api).then(response => {\r\n                    console.log(response.data)\r\n                    vm.getOrder();\r\n                });\r\n            }\r\n        },\r\n        created() {\r\n            const vm = this;\r\n            vm.getOrder();\r\n        }\r\n    };\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderPage.vue?vue&type=template&id=164be387&\"\nimport script from \"./orderPage.vue?vue&type=script&lang=js&\"\nexport * from \"./orderPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"orderPage.vue\"\nexport default component.exports"],"sourceRoot":""}